<mat-expansion-panel class="sz-details-panel" [expanded]=true>
  <mat-expansion-panel-header>
    <mat-panel-title>
      Resumen de Solicitudes y Descargos
    </mat-panel-title>
  </mat-expansion-panel-header>
  <form [formGroup]="reportCriteriaForm">
    <mat-form-field>
      <input matInput
        [matDatepicker]="startDatePicker"
        placeholder="Desde"
        formControlName="startDate">
      <mat-datepicker-toggle matSuffix [for]="startDatePicker"></mat-datepicker-toggle>
      <mat-datepicker #startDatePicker></mat-datepicker>
    </mat-form-field>
    <mat-form-field>
      <input matInput
        [matDatepicker]="endDatePicker"
        placeholder="Hasta"
        formControlName="endDate">
      <mat-datepicker-toggle matSuffix [for]="endDatePicker"></mat-datepicker-toggle>
      <mat-datepicker #endDatePicker></mat-datepicker>
    </mat-form-field>
    <button 
      mat-raised-button 
      color="primary" 
      type="button" 
      (click)="getFrErSummary()"
      [disabled]="!reportCriteriaForm.valid">
      <mat-icon>search</mat-icon>
      Generar Resumen
    </button>
  </form>
  <br>
  <table
    mat-table
    class="mat-elevation-z2 sz-item-table"
    [dataSource]="frAndErSummary">
    <ng-container matColumnDef="user">
      <th mat-header-cell *matHeaderCellDef> Usuario </th>
      <td mat-cell *matCellDef="let userInfo"> {{userInfo.user}} </td>
    </ng-container>
    <ng-container matColumnDef="frCount">
      <th mat-header-cell *matHeaderCellDef> Total Solicitudes </th>
      <td mat-cell *matCellDef="let userInfo"> {{userInfo.frCount}} </td>
    </ng-container>
    <ng-container matColumnDef="erCount">
      <th mat-header-cell *matHeaderCellDef> Total Descargos </th>
      <td mat-cell *matCellDef="let userInfo"> {{userInfo.erCount}} </td>
    </ng-container>
    <ng-container matColumnDef="frWithoutErCount">
      <th mat-header-cell *matHeaderCellDef> Solicitudes sin descargar </th>
      <td mat-cell *matCellDef="let userInfo"> {{userInfo.frWithoutErCount}} </td>
    </ng-container>
    <tr mat-header-row
      *matHeaderRowDef="['user', 'frCount', 'erCount', 'frWithoutErCount']"></tr>
    <tr mat-row
      *matRowDef="let row; columns: ['user', 'frCount', 'erCount', 'frWithoutErCount']"></tr>
  </table>
</mat-expansion-panel>